{% extends 'base.html' %}

{% block content %}

<h2>All Tasks</h2>

<ul>
    {% for task in tasks %}
    <li class="task-item">

        <div class="task-info">
            <h3>{{ task.title | upper }}</h3>

        <p>
            <strong>Status:</strong>
        
            {% set status = task.status | lower %}
        
            {% if status == 'completed' %}
            <span class="status-completed">
                {{ task.status | title }}
            </span>
        
            {% elif status == 'in progress' %}
            <span class="status-progress">
                {{ task.status | title }}
            </span>
        
            {% else %}
            <span class="status-pending">
                {{ task.status | title }}
            </span>
            {% endif %}
        </p>


            <p>
                <strong>Priority:</strong> {{ task.priority }}
            </p>

            <a href="{{ url_for('task_detail', id=task.id) }}">View Task</a>
        </div>

    <div class="task-actions">
        <a href="{{ url_for('edit_task', id=task.id) }}" class="edit-btn">
             Edit
        </a>
    
        <form action="{{ url_for('delete_task', id=task.id) }}" method="POST">
            <button class="delete-btn"> Delete</button>
        </form>
    </div>


    </li>
    {% endfor %}
</ul>

{% endblock %}